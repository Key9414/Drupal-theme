{#
/**
 * @file
 * Bayteq Developer Portal - API Catalog Page.
 *
 * Pantalla 3: Catálogo de APIs - Filtros laterales + listado de API cards
 */
#}

{# Include base page layout #}
{% extends "page.html.twig" %}

{% block content %}
<div class="catalog-page">
  <div class="container">
    {# Page Header #}
    <div class="catalog-header">
      <h1 class="catalog-header__title">{{ 'Catálogo de APIs'|t }}</h1>
      <p class="catalog-header__desc">{{ 'Explora nuestro catálogo completo de APIs empresariales. Filtra por categoría o busca APIs específicas.'|t }}</p>
    </div>

    <div class="catalog-layout">
      {# ========== SIDEBAR FILTERS ========== #}
      <aside class="sidebar">
        <div class="filter-sidebar">
          {# Search #}
          <div class="filter-section">
            <h3 class="filter-section__title">{{ 'Buscar'|t }}</h3>
            <div class="search-input-wrapper">
              <svg class="search-icon" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z" clip-rule="evenodd"/></svg>
              <input type="text" class="form-input" placeholder="{{ 'Buscar APIs...'|t }}">
            </div>
          </div>

          {# Categories #}
          <div class="filter-section">
            <div class="filter-section__header">
              <h3 class="filter-section__title">{{ 'Categorías'|t }}</h3>
              <svg class="filter-section__icon" viewBox="0 0 20 20" fill="currentColor"><path d="M3 3a1 1 0 011-1h12a1 1 0 011 1v3a1 1 0 01-.293.707L12 11.414V15a1 1 0 01-.293.707l-2 2A1 1 0 018 17v-5.586L3.293 6.707A1 1 0 013 6V3z"/></svg>
            </div>
            <div class="filter-list">
              <div class="filter-item is-active">
                <span>{{ 'Todas'|t }}</span>
                <span class="filter-item__count">24</span>
              </div>
              <div class="filter-item">
                <span>{{ 'Pagos'|t }}</span>
                <span class="filter-item__count">8</span>
              </div>
              <div class="filter-item">
                <span>{{ 'Identidad'|t }}</span>
                <span class="filter-item__count">5</span>
              </div>
              <div class="filter-item">
                <span>{{ 'Datos'|t }}</span>
                <span class="filter-item__count">6</span>
              </div>
              <div class="filter-item">
                <span>{{ 'Mensajería'|t }}</span>
                <span class="filter-item__count">3</span>
              </div>
              <div class="filter-item">
                <span>{{ 'Analytics'|t }}</span>
                <span class="filter-item__count">2</span>
              </div>
            </div>
          </div>

          {# Status Filter #}
          <div class="filter-section">
            <div class="filter-section__header">
              <h3 class="filter-section__title">{{ 'Estado'|t }}</h3>
              <svg class="filter-section__icon" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M11.49 3.17c-.38-1.56-2.6-1.56-2.98 0a1.532 1.532 0 01-2.286.948c-1.372-.836-2.942.734-2.106 2.106.54.886.061 2.042-.947 2.287-1.561.379-1.561 2.6 0 2.978a1.532 1.532 0 01.947 2.287c-.836 1.372.734 2.942 2.106 2.106a1.532 1.532 0 012.287.947c.379 1.561 2.6 1.561 2.978 0a1.533 1.533 0 012.287-.947c1.372.836 2.942-.734 2.106-2.106a1.533 1.533 0 01.947-2.287c1.561-.379 1.561-2.6 0-2.978a1.532 1.532 0 01-.947-2.287c.836-1.372-.734-2.942-2.106-2.106a1.532 1.532 0 01-2.287-.947zM10 13a3 3 0 100-6 3 3 0 000 6z" clip-rule="evenodd"/></svg>
            </div>
            <div class="filter-list">
              <div class="filter-item is-active">
                <span>{{ 'Todas'|t }}</span>
              </div>
              <div class="filter-item">
                <span>{{ 'Activas'|t }}</span>
              </div>
              <div class="filter-item">
                <span>{{ 'Deprecated'|t }}</span>
              </div>
            </div>
          </div>
        </div>
      </aside>

      {# ========== API LISTING ========== #}
      <div class="catalog-main">
        <div class="catalog-results-header">
          <span class="catalog-results-count">{{ 'Mostrando 6 APIs'|t }}</span>
          <button class="catalog-sort">
            <svg width="16" height="16" viewBox="0 0 20 20" fill="currentColor"><path d="M5 12a1 1 0 102 0V6.414l1.293 1.293a1 1 0 001.414-1.414l-3-3a1 1 0 00-1.414 0l-3 3a1 1 0 001.414 1.414L5 6.414V12zM15 8a1 1 0 10-2 0v5.586l-1.293-1.293a1 1 0 00-1.414 1.414l3 3a1 1 0 001.414 0l3-3a1 1 0 00-1.414-1.414L15 13.586V8z"/></svg>
            {{ 'Ordenar por'|t }}
          </button>
        </div>

        <div class="api-card-list">
          {# Payment API #}
          <a href="/api/payment-api" class="api-card">
            <div class="api-card__header">
              <div class="api-card__title-group">
                <h3 class="api-card__title">Payment API</h3>
                <span class="badge badge-version">v2.1</span>
                <span class="badge badge-active">Activa</span>
              </div>
              <span class="api-card__arrow">&rsaquo;</span>
            </div>
            <p class="api-card__desc">{{ 'API completa para procesar pagos, reembolsos y gestión de transacciones.'|t }}</p>
            <div class="api-card__tags">
              <span class="tag">Pagos</span>
              <span class="tag">Finanzas</span>
              <span class="tag">PCI Compliant</span>
            </div>
            <div class="api-card__meta">
              <span class="api-card__meta-item"><span class="api-card__meta-label">{{ 'Métodos:'|t }}</span> REST</span>
              <span class="api-card__meta-item"><span class="api-card__meta-label">Auth:</span> OAuth 2.0, API Key</span>
            </div>
          </a>

          {# User Identity API #}
          <a href="/api/user-identity-api" class="api-card">
            <div class="api-card__header">
              <div class="api-card__title-group">
                <h3 class="api-card__title">User Identity API</h3>
                <span class="badge badge-version">v3.0</span>
                <span class="badge badge-active">Activa</span>
              </div>
              <span class="api-card__arrow">&rsaquo;</span>
            </div>
            <p class="api-card__desc">{{ 'Autenticación, autorización y gestión de identidades de usuarios.'|t }}</p>
            <div class="api-card__tags">
              <span class="tag">{{ 'Autenticación'|t }}</span>
              <span class="tag">SSO</span>
              <span class="tag">MFA</span>
            </div>
            <div class="api-card__meta">
              <span class="api-card__meta-item"><span class="api-card__meta-label">{{ 'Métodos:'|t }}</span> REST, GraphQL</span>
              <span class="api-card__meta-item"><span class="api-card__meta-label">Auth:</span> OAuth 2.0</span>
            </div>
          </a>

          {# Customer Data API #}
          <a href="/api/customer-data-api" class="api-card">
            <div class="api-card__header">
              <div class="api-card__title-group">
                <h3 class="api-card__title">Customer Data API</h3>
                <span class="badge badge-version">v1.5</span>
                <span class="badge badge-active">Activa</span>
              </div>
              <span class="api-card__arrow">&rsaquo;</span>
            </div>
            <p class="api-card__desc">{{ 'Acceso y gestión de datos de clientes con cumplimiento GDPR.'|t }}</p>
            <div class="api-card__tags">
              <span class="tag">CRM</span>
              <span class="tag">GDPR</span>
              <span class="tag">{{ 'Datos'|t }}</span>
            </div>
            <div class="api-card__meta">
              <span class="api-card__meta-item"><span class="api-card__meta-label">{{ 'Métodos:'|t }}</span> REST</span>
              <span class="api-card__meta-item"><span class="api-card__meta-label">Auth:</span> OAuth 2.0, API Key</span>
            </div>
          </a>

          {# Notification API #}
          <a href="/api/notification-api" class="api-card">
            <div class="api-card__header">
              <div class="api-card__title-group">
                <h3 class="api-card__title">Notification API</h3>
                <span class="badge badge-version">v2.0</span>
                <span class="badge badge-active">Activa</span>
              </div>
              <span class="api-card__arrow">&rsaquo;</span>
            </div>
            <p class="api-card__desc">{{ 'Envío de notificaciones push, email y SMS a usuarios.'|t }}</p>
            <div class="api-card__tags">
              <span class="tag">Push</span>
              <span class="tag">Email</span>
              <span class="tag">SMS</span>
            </div>
            <div class="api-card__meta">
              <span class="api-card__meta-item"><span class="api-card__meta-label">{{ 'Métodos:'|t }}</span> REST, WebSocket</span>
              <span class="api-card__meta-item"><span class="api-card__meta-label">Auth:</span> API Key</span>
            </div>
          </a>

          {# Analytics API #}
          <a href="/api/analytics-api" class="api-card">
            <div class="api-card__header">
              <div class="api-card__title-group">
                <h3 class="api-card__title">Analytics API</h3>
                <span class="badge badge-version">v1.2</span>
                <span class="badge badge-active">Activa</span>
              </div>
              <span class="api-card__arrow">&rsaquo;</span>
            </div>
            <p class="api-card__desc">{{ 'Recopilación y análisis de eventos y métricas de aplicaciones.'|t }}</p>
            <div class="api-card__tags">
              <span class="tag">{{ 'Métricas'|t }}</span>
              <span class="tag">{{ 'Eventos'|t }}</span>
              <span class="tag">BI</span>
            </div>
            <div class="api-card__meta">
              <span class="api-card__meta-item"><span class="api-card__meta-label">{{ 'Métodos:'|t }}</span> REST</span>
              <span class="api-card__meta-item"><span class="api-card__meta-label">Auth:</span> API Key</span>
            </div>
          </a>

          {# Legacy Payment API (Deprecated) #}
          <a href="/api/legacy-payment-api" class="api-card">
            <div class="api-card__header">
              <div class="api-card__title-group">
                <h3 class="api-card__title">Legacy Payment API</h3>
                <span class="badge badge-version">v1.0</span>
                <span class="badge badge-deprecated">Deprecated</span>
              </div>
              <span class="api-card__arrow">&rsaquo;</span>
            </div>
            <p class="api-card__desc">{{ 'API de pagos heredada. Migrar a Payment API v2.1'|t }}</p>
            <div class="api-card__tags">
              <span class="tag">Deprecated</span>
              <span class="tag">Legacy</span>
            </div>
            <div class="api-card__meta">
              <span class="api-card__meta-item"><span class="api-card__meta-label">{{ 'Métodos:'|t }}</span> REST</span>
              <span class="api-card__meta-item"><span class="api-card__meta-label">Auth:</span> API Key</span>
            </div>
          </a>
        </div>
      </div>
    </div>
  </div>
</div>

{{ page.content }}
{% endblock %}
